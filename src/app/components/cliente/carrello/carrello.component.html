<app-toolbar [pages]="linkedPages" title="Cliente"></app-toolbar>

<div *ngIf="carrello.length > 0; else noProdotti" class="pageContainer">

    <div class="prodottiContainer">

        <mat-selection-list class="prodottiList" [multiple]="false">
            <h1>Questo è il tuo carrello</h1>
            <mat-list-option class="listItem" *ngFor="let prodotto of carrello" [selected]="prodottoSelezionato == prodotto" (click)="selezionaProdotto(prodotto)">
                <div mat-line>{{prodotto.nome}}</div>
                <div mat-line>
                    <label class="labelColor" for="prezzo">Prezzo: </label>
                    <span id="prezzo">{{prodotto.prezzo}}$</span>
                    <span class="spacer"></span>
                    <label class="labelColor" for="prezzo">Quantità: </label>
                    <span id="prezzo">{{prodotto.quantita}}</span>
                </div>
            </mat-list-option>
            <div style="margin-top: 60px;">
                <label class="labelColor">Totale: </label>{{prezzoTotale}}$
            </div>
            <br>
            <button mat-raised-button color="primary" (click)="acquista()">Acquista carrello</button>
        </mat-selection-list>

        <mat-card *ngIf="prodottoSelezionato != null" class="prodottoInfo">
            <mat-card-header>
                <i mat-card-avatar class="material-icons">search</i>
                <mat-card-title>{{prodottoSelezionato.nome}}</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <p>{{prodottoSelezionato.descrizione}}</p>
            </mat-card-content>
            <mat-card-actions>
            </mat-card-actions>
        </mat-card>

    </div>

</div>

<ng-template #noProdotti>
    <div class="pageContainer">
        <p>Nessun prodotto presente nel carrello</p>
    </div>
</ng-template>
